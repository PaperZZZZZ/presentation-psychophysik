<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Selection App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            text-align: center;
        }
        .hidden {
            display: none;
        }
        img {
            width: 100px; /* Set your image size */
            height: auto;
            margin: 10px;
        }
    </style>
</head>
<body>

    <div id="nameInput">
        <h1>Enter Your Name</h1>
        <input type="text" id="name" placeholder="Your Name">
        <button id="goButton">Go</button>
    </div>

    <div id="imageSelection" class="hidden">
        <h1>Select Images</h1>
        <div id="imageContainer"></div>
        <button id="submit" class="hidden">Submit</button>
    </div>

    <script>
        const goButton = document.getElementById('goButton');
        const nameInput = document.getElementById('nameInput');
        const imageSelection = document.getElementById('imageSelection');
        const imageContainer = document.getElementById('imageContainer');
        const submitButton = document.getElementById('submit');
        
        const images = [
            '/home/patrick/Documents/vscode/manim/psychophysik/media/images/pictures/LightAndSquare0028.png', 
            '/home/patrick/Documents/vscode/manim/psychophysik/media/images/pictures/LightAndSquare0030.png',
            '/home/patrick/Documents/vscode/manim/psychophysik/media/images/pictures/LightAndSquare0035.png',
            '/home/patrick/Documents/vscode/manim/psychophysik/media/images/pictures/LightAndSquare0040.png',
            '/home/patrick/Documents/vscode/manim/psychophysik/media/images/pictures/LightAndSquare0045.png',
            '/home/patrick/Documents/vscode/manim/psychophysik/media/images/pictures/LightAndSquare0050.png',
            // add more images as needed
        ];

        let currentImageIndex = 0;
        const selections = [];

        goButton.addEventListener('click', () => {
            const name = document.getElementById('name').value;
            if (name) {
                nameInput.classList.add('hidden');
                imageSelection.classList.remove('hidden');
                displayImage();
            } else {
                alert('Please enter your name.');
            }
        });

        function displayImage() {
            if (currentImageIndex < images.length) {
                const img = document.createElement('img');
                img.src = images[currentImageIndex];
                img.alt = `Image ${currentImageIndex + 1}`;
                imageContainer.innerHTML = '';
                imageContainer.appendChild(img);
                createButtons();
            } else {
                submitButton.classList.remove('hidden');
            }
        }

        function createButtons() {
            const yesButton = document.createElement('button');
            yesButton.textContent = 'Yes';
            yesButton.onclick = () => handleSelection(true);

            const noButton = document.createElement('button');
            noButton.textContent = 'No';
            noButton.onclick = () => handleSelection(false);

            imageContainer.appendChild(yesButton);
            imageContainer.appendChild(noButton);
        }

        function handleSelection(selection) {
            selections.push({ image: images[currentImageIndex], selected: selection });
            currentImageIndex++;
            displayImage();
        }

        submitButton.addEventListener('click', () => {
            // Here you can handle the submission logic
            console.log('Selections:', selections);
            alert('Thank you for your selections!');
            // Optionally, reset the state or redirect
        });
    </script>

</body>
</html>
